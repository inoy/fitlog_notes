# データの永続化について

## shared_preferencesによる永続化

`shared_preferences`パッケージは、Flutterアプリケーションで軽量なキーバリュー形式のデータを永続化するための便利な方法を提供します。

### iOSでの保存場所

iOSデバイスでは、`shared_preferences`は主に**`UserDefaults`**という仕組みを利用してデータを保存します。`UserDefaults`は、各アプリケーションのサンドボックス内に存在する軽量なデータストアです。

### アプリのアンインストールとデータの保持

アプリケーションがアンインストールされると、そのアプリのサンドボックス全体がデバイスから削除されます。このため、`shared_preferences`に保存されたデータも同時に削除されます。

**結論として、アプリがアンインストールされ、その後再インストールされた場合、`shared_preferences`に保存されていたデータは消滅します。**

### アプリ再インストール後もデータを保持したい場合の代替手段

アプリの再インストール後もデータを保持する必要がある場合は、以下の永続化方法を検討してください。

*   **iCloud Key-Value Store**: 小規模な設定データであれば、iCloudを通じてデバイス間で同期・保持できます。
*   **Core Data / Realm / SQLite**: 大規模な構造化データの場合、これらのローカルデータベースを利用し、必要に応じてiCloud Driveや外部ストレージサービスと連携させることで、バックアップや復元を可能にします。
*   **外部サーバー/クラウドストレージ**: ユーザーアカウントと紐付けて、データをサーバー側に保存する方法。これが最も堅牢で、デバイスを問わずデータを保持できます。
